---
updated_at: 2026-02-12T13:25:33.438+10:00
---

**Логирование** — это процесс регистрации событий, происходящих в программной системе во время её выполнения. Результатом логирования являются **логи** — последовательность записей (сообщений), каждая из которых содержит информацию о конкретном событии: его времени, источнике, уровне значимости и сопутствующих данных. Логи представляют собой временной срез активности приложения и его окружения.

### Назначение
Логирование выполняет несколько ключевых функций на протяжении всего жизненного цикла системы:
*   **Диагностика и отладка**. Позволяет разработчикам анализировать поведение кода в среде, недоступной для пошаговой отладки, фиксировать последовательность вызовов, значения переменных и возникающие ошибки.
*   **Мониторинг и оповещение**. Служит источником данных для систем наблюдения: аномалии в потоке логов (рост числа ошибок, замедление операций) сигнализируют о проблемах, требующих вмешательства.
*   **Аудит и соответствие требованиям**. В regulated-средах логи используются для доказательства выполнения операций, фиксации действий пользователей и администраторов, расследования инцидентов безопасности.
*   **Аналитика и оптимизация**. Агрегированные логи позволяют выявлять узкие места производительности, частоту использования функций, паттерны отказов.

### Ограничения
Несмотря на свою необходимость, логирование связано с рядом неотъемлемых ограничений и потенциальных проблем:
1.  **Влияние на производительность**. Каждая операция записи в лог требует ресурсов процессора и ввода-вывода. Избыточное логирование, особенно в синхронном режиме, способно значительно замедлить работу приложения и вызвать эффект «шторма логов».
2.  **Объём данных**. В высоконагруженных системах объём генерируемых логов может достигать терабайт в сутки. Хранение, передача и обработка таких массивов требуют значительных инфраструктурных затрат.
3.  **Информационный шум**. Отсутствие дисциплины при выборе уровня логирования приводит к тому, что диагностически ценная информация теряется в массе малозначимых записей.
4.  **Безопасность и конфиденциальность**. Логи могут непреднамеренно включать [[Secret|секреты]] (пароли, токены) или персональные данные пользователей. Хранение такой информации в открытом виде нарушает политики безопасности и требования законодательства.
5.  **Неструктурированность**. Текстовые строки произвольного формата сложны для автоматического анализа и фильтрации. Разные модули могут использовать различные форматы, что затрудняет корреляцию событий.

### Сложившиеся практики
Современная инженерия выработала устойчивый набор подходов, обеспечивающих эффективное использование логов при контролируемых издержках:

1.  **Стандартный вывод как транспорт**. В соответствии с [[Twelve-Factor App|методологией Двенадцати факторов]] приложение не управляет записью логов в файлы, а направляет поток событий в [[Standard Output|стандартный вывод]] (stdout) и [[Standard Error|стандартный вывод ошибок]] (stderr). Инфраструктура выполнения (контейнер, оркестратор) перехватывает этот поток и маршрутизирует его в систему сбора. Это отделяет генерацию логов от их хранения и ротации.

2.  **Уровни логирования**. Используется иерархия [[Log Level|уровней значимости]] (DEBUG, INFO, WARN, ERROR, FATAL), позволяющая гибко настраивать детальность записи в зависимости от окружения. В продакшне, как правило, фиксируются сообщения уровня INFO и выше; DEBUG-логи активируются только при расследовании инцидентов.

3.  **Структурированное логирование**. Вместо произвольных строк сообщения формируются как структурированные данные — пары «ключ-значение» в формате JSON. [[Structured Logging|Структурированные логи]] легко парсятся, индексируются и позволяют выполнять сложные запросы без использования регулярных выражений.

4.  **Контекст и корреляция**. В распределённых системах запрос может проходить через множество сервисов. Для связывания записей, относящихся к одному сценарию, используется [[Correlation ID|идентификатор корреляции]], который генерируется на входе в систему и пробрасывается сквозь все компоненты. В каждом сообщении лога этот идентификатор включается как отдельное поле.

5.  **Централизованный сбор и агрегация**. Логи собираются в единое хранилище (ELK Stack, Loki, Splunk) с помощью агентов (Fluentd, Logstash). [[Centralized Logging|Централизованное логирование]] обеспечивает единую точку доступа к данным всех сервисов, долговременное хранение и возможность поиска.

6.  **Политики ротации и ретенции**. Даже при выводе в stdout инфраструктура (система инициализации, демон контейнера) обеспечивает [[Log Rotation|ротацию логов]] — автоматическое архивирование и удаление старых файлов во избежание переполнения диска. Сроки хранения определяются нормативными требованиями и ценностью данных.

7.  **Маскирование чувствительных данных**. Перед передачей в систему сбора или записью в долговременное хранилище из логов удаляются или заменяются на плейсхолдеры пароли, номера кредитных карт, персональные данные. Эта практика реализуется либо непосредственно в приложении, либо на этапе сбора с помощью правил фильтрации.

8.  **Семантическое логирование**. Дополнительно к техническим деталям логи включают бизнес-контекст: идентификатор пользователя, тип транзакции, идентификатор заказа. Это позволяет использовать логи не только для диагностики, но и для аналитики.

Таким образом, логирование трансформировалось из простой записи событий в файл в комплексную дисциплину, охватывающую генерацию, транспортировку, хранение и анализ потоковых данных. Современные практики направлены на сохранение диагностической ценности логов при минимизации их негативного влияния на производительность и безопасность.