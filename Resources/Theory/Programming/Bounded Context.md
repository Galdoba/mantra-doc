---
updated_at: 2026-02-12T13:54:03.543+10:00
---
**Ограниченный контекст** ({{Bounded Context|bounded context}}) — это центральный паттерн стратегического проектирования в [[Domain-Driven Design|предметно-ориентированном проектировании]] (DDD), который устанавливает явные границы вокруг модели предметной области. Внутри этих границ все термины, понятия и бизнес-правила имеют строго определённое, непротиворечивое значение, зафиксированное в [[Ubiquitous Language|едином языке]] (Ubiquitous Language). За пределами контекста те же слова могут обозначать иные сущности или обладать другой семантикой.

### Назначение
Необходимость выделения ограниченных контекстов возникает из невозможности построить единую, универсальную модель для сложной предметной области, охватывающей множество аспектов деятельности организации:

*   **Управление сложностью**. Крупные системы разбиваются на когнитивно обозримые части, каждая со своей внутренне согласованной моделью.
*   **Устранение неоднозначности**. Одно и то же понятие (например, «Клиент», «Заказ», «Продукт») в разных частях бизнеса может иметь различные атрибуты, поведение и жизненный цикл. Явное разграничение предотвращает ошибочное смешение моделей.
*   **Независимая разработка**. Команды могут автономно развивать свои контексты, выбирать технические решения и темп изменений, не будучи вынужденными согласовывать единую глобальную модель.
*   **Чёткие границы ответственности**. Каждый контекст закрепляется за одной командой, что отражает [[Conway's Law|закон Конвея]] и снижает операционные издержки.
*   **Интеграционная дисциплина**. Вместо неявного, хаотичного связывания разных частей системы вводятся формальные каналы и трансформации между контекстами.

### Ограничения
Применение ограниченных контекстов сопряжено с рядом трудностей и компромиссов:

1.  **Сложность определения границ**. Выделение корректных границ требует глубокого понимания предметной области и итеративного уточнения. Ошибочное разделение ведёт к избыточным трансляциям между контекстами или, напротив, к созданию перегруженных, противоречивых моделей внутри одного контекста.
2.  **Дублирование и рассинхронизация**. Связанные сущности, естественно существующие в разных контекстах, вынужденно дублируются (например, «Клиент» в контексте продаж и «Клиент» в контексте поддержки). Требуется постоянное согласование и синхронизация при изменениях.
3.  **Накладные расходы на интеграцию**. Каждое взаимодействие между контекстами требует трансляции моделей, преобразования данных и согласования протоколов. Это увеличивает задержки и объём кода, связанного с [[Mapping|преобразованием]].
4.  **Риск чрезмерного дробления**. Излишне мелкие контексты создают высокую связанность по интеграции и превращают систему в «распределённый монолит» с сетевыми издержками, но без преимуществ централизованной модели.
5.  **Организационное сопротивление**. Выделение границ требует перестройки команд и зон ответственности, что может вызывать трения в устоявшихся структурах.

### Сложившиеся практики
Индустрия выработала устойчивый набор подходов к идентификации, проектированию и интеграции ограниченных контекстов:

1.  **Выделение по поддоменам**. Границы контекстов, как правило, соответствуют [[Subdomain|поддоменам]] (core, supporting, generic), выявленным в ходе анализа предметной области. Каждый поддомен реализуется в одном или нескольких ограниченных контекстах, но предпочтительно — в одном.

2.  **[[Context Map|Карта контекстов]] (Context Map)**. Документирование всех ограниченных контекстов системы и отношений между ними. Карта является ключевым артефактом стратегического DDD и служит основой для планирования интеграции и координации команд.

3.  **Типизированные отношения между контекстами**. В карте контекстов фиксируются паттерны взаимодействия:
    *   **[[Partnership|Партнерство]]** — две команды координируют изменения для совместной эволюции границы.
    *   **[[Shared Kernel|Разделяемое ядро]]** — общая подмножество модели, согласованное обеими командами.
    *   **[[Customer-Supplier|Поставщик-клиент]]** — вышестоящий контекст определяет модель, нижестоящий подстраивается.
    *   **[[Conformist|Конформист]]** — строгое следование модели вышестоящего контекста без попыток влияния.
    *   **[[Anticorruption Layer|Уровень защиты от повреждений]] (ACL)** — прослойка, преобразующая модель одного контекста в модель другого, предотвращая «заражение» чужеродными концепциями.
    *   **[[Open-Host Service|Открытый сервис]]** — публичный интерфейс, предоставляемый контекстом для внешних потребителей.
    *   **[[Published Language|Опубликованный язык]]** — формализованный протокол взаимодействия (например, XML Schema, Protobuf), задокументированный и доступный всем.
    *   **[[Separate Ways|Раздельные пути]]** — контексты полностью независимы, интеграция отсутствует.

4.  **Соответствие границам команд**. Ограниченный контекст закрепляется за одной командой, которая обладает полной ответственностью за его модель, код и развёртывание. Это минимизирует необходимость межкомандных согласований внутри контекста.

5.  **Явные интеграционные интерфейсы**. Взаимодействие между контекстами осуществляется только через определённые API, события или документы. Прямое обращение к базам данных другого контекста или совместное использование схемы данных считается анти-паттерном.

6.  **Независимые схемы данных**. Каждый контекст владеет собственным хранилищем данных, структура которого оптимизирована под его модель и не обязана соответствовать моделям других контекстов. При необходимости данные транслируются через ACL.

7.  **Эволюция границ**. Ограниченные контексты не являются неизменными. По мере развития понимания предметной области границы могут пересматриваться, контексты могут разделяться или объединяться. Практика [[Refactoring|рефакторинга]] границ требует существенных организационных усилий и автоматизации тестирования.

8.  **Связь с микросервисной архитектурой**. Ограниченный контекст часто рассматривается как естественная граница для [[Microservices|микросервиса]] или набора тесно связанных микросервисов. Однако размер контекста может быть крупнее одного сервиса; решение о технической декомпозиции принимается внутри контекста.

9.  **Документирование единого языка**. Глоссарий терминов каждого ограниченного контекста ведётся явно и доступен всем членам команды, а также смежным командам для понимания семантики публичных интерфейсов.

Таким образом, ограниченный контекст является фундаментальной организационной единицей в сложных предметных областях. Он не описывает техническую реализацию, а задаёт когнитивные и коммуникационные границы, внутри которых модель сохраняет целостность и непротиворечивость. Успешное применение паттерна требует не только технической дисциплины, но и согласования организационной структуры с архитектурой программного обеспечения.