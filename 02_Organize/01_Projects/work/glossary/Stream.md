---
updated_at: 2025-12-19T23:19:14.788+10:00
---
**Поток (Stream, Elementary Stream) в медиафайле** — это **непрерывная, линейная и временнó-зависимая последовательность [[Байт|байтов]] внутри [[Контейнер|контейнера]], представляющая собой один непрерывный компонент медиафайла, закодированный конкретным [[Кодек|кодеком]] в соответствии со строгим форматом.**

### Ключевые аспекты:

1.  **Элементарный поток (Elementary Stream - ES):** Это базовая, "сырая" форма потока до помещения в контейнер. Именно в этом виде поток существует на выходе кодера. Он состоит из **кадров (frames)** для видео или **семплов (samples)** для аудио, следующих в строгом временном порядке.

2.  **Пакетизированный поток (Packetized Elementary Stream - PES):** Для упаковки в контейнер и передачи элементарный поток разбивается на **пакеты (packets)**. Каждый пакет содержит:
    *   **Заголовок:** Служебная информация, включая **декрементируемый временной штамп (DTS - Decoding Time Stamp)** и **штамп презентации (PTS - Presentation Time Stamp)**. Именно эти метки обеспечивают синхронизацию.
    *   **Полезная нагрузка (Payload):** Непосредственно фрагмент закодированных данных (часть видеокадра или сегмент аудио).

3.  **Независимость и параллелизм:** Потоки внутри контейнера независимы. Они могут быть извлечены, заменены или удалены по отдельности (например, "перезалить" аудиодорожку). При воспроизведении медиаплеер **демультиплексирует** контейнер, выделяя параллельные потоки, и затем декодирует каждый из них в отдельном процессе, сводя результаты вместе по тайм‑кодам (PTS).

4.  **Свойства, определяемые кодеком и параметрами кодирования:**
    *   **Битрейт:** Количество бит данных в секунду (постоянный - CBR или переменный - VBR).
    *   **Частота кадров (для видео):** FPS.
    *   **Частота дискретизации (для аудио):** Sample Rate.
    *   **Разрешение и цветовое пространство (для видео).**
    *   **Количество каналов (для аудио).**

5.  **"Двигающееся изображение, звук или текст" — это результат декодирования.** Сами байты в потоке — это **не** пиксели или звуковые волны, а результат их сложного математического преобразования (сжатия).
    *   **Видеопоток (например, H.264/AVC):** Последовательность закодированных кадров (I‑кадры, P‑кадры, B‑кадры), описывающих не просто картинку, а *разницы* между картинками для сжатия.
    *   **Аудиопоток (например, AAC):** Последовательность закодированных спектральных коэффициентов или сжатых сэмплов звуковой волны.
    *   **Субтитры/Текст (например, SRT, ASS):** Может быть как простым текстом с тайм‑кодами, так и сложной последовательностью команд для отрисовки (позиция, стили, анимация).




**Итог:** Поток — это **временнáя, закодированная и структурированная последовательность пакетов**, являющаяся *транспортным представлением* одного из компонентов мультимедиа. Его фундаментальные свойства — **линейность, зависимость от времени, пакетная структура с метками синхронизации** и **полная зависимость от алгоритма кодека** для интерпретации.