---
updated_at: 2026-02-10T11:40:24.787+10:00
aliases:
  - сериализация
  - десериализация
  - json
  - toml
  - yaml
---
Сериализация - это процесс перевода структуры данных в упорядоченный набор Байтов. Суриализация считается валидной если над полученными данными можно провести Десериализацию (перевести данные в исходную структуру).

# Сериализация в golang
## Поля
Для того чтобы поле объекта было доступно для сериализации, оно должно быть экспортируемым.
Общий вид функции сериализации/десериализации:

```go

type Data struct {
	Field1 string 
	Field2 int
	Field3 Data //структуры сериализуются по правилам сериализации их полей
	field bool  //это поле не будет сериализовываться
}

func Serialize(ds *dataStruct) ([]byte, error)
func DeSerialize(ds *dataStruct, data []byte) error

```


## Схема
Для корректной сериализации требуется указать соответствующие тэги

```go

type Data struct {
	Field1 string `toml:"name1"`                          //в файле будет отображаться 'name1'
	Field2 int    `toml:"answer,omitempty"`               //не будет отображаться в файле, если значение равно дефолтному значению типа переменной
	Field3 Data   `toml:"ChLD" comment:"this is comment"` //коментарий попадет в файль если это поддерживается форматом
	field bool                                            //это поле не будет сериализовываться
}

```



# Форматы сериализации
## json
Самый распространенный тип. Поддерживается почти всеми языками. Дефакто минимальный стандарт. В сжатом виде хорош для машинной коммуникации. Основа http.
### pro
- универсален
- стандартная библиотека
- допускает 2 вида сжатия:
	- condensed - строковое представление записывается в относительно компактную строку, но трудно читаем человеком.
	- indented - каждый параметр начинается с новой строки (читать намного удобнее, но занимает больше места).

### con
- не поддерживает коментарии
- проблема запятой в последнем поле (при редактировании руками, нужно следить чтобы её не было)

## toml
Удобный для чтения. но весьма громоздкий формат. Идеально подходит для файлов конфигурации
### pro
- удобен для чтения (особенно вложенных структур)
- поддерживает комментарии
### con
- очень громоздкий
- требует сторонних библиотек

## yaml
Удобный для чтения.Подходит для файлов конфигурации, но есть недостатки.
### pro
- удобен для чтения (особенно вложенных структур)
- поддерживает комментарии
### con
- требует сторонних библиотек
- Очень большая требовательность к синтаксису (проблема пробелов)

## gob
Очень компактный (файл занимает меньше места чем json)
### pro
- нативный для golang (быстро работает)
- занимает неприлично мало места
### con
- не читаем человеком, без десериализации

