---
updated_at: 2025-12-15T15:53:42.685+10:00
---
```go

type StructA struct {
	A int
	B int
	C int
	D int
	E int
}

type StructB struct {
	A int
	B Func1(A)
	C Func2(A)
	D int
	E Func3(D)
}

```

На первый взгляд StructB представляется несколько сложнее, чем StructA. У него такое же число переменных, но вдобавок к ним в нем выполняются дополнительные вычисления.

Сколько элементов данных нужно для описания состояния StructA? Ответ — пять: это пять его переменных. Следовательно, у StructA пять степеней свободы. 


Сколько элементов данных нужно для описания состояния StructB? Если посмотреть на логику присвоения значений свойствам A и D, значения B, C и E являются функциями значений A и D. Следовательно, у StructB только две степени свободы. И для описания его состояния нужно всего два значения. 

Более сложный агрегат тот, у которого больше степеней свободы

Именно это и делают паттерны агрегатов и объектов-значений: инкапсулируют инварианты, уменьшая таким образом сложность. 
Вся бизнес-логика, связанная с состоянием объекта-значения, находится в его границах. То же самое справедливо и для агрегатов. Агрегат может быть изменен только его собственными [[Contract|методами]]. Его бизнес-логика инкапсулирует и защищает бизнес-инварианты, уменьшая тем самым степень свободы. 
Поскольку паттерн модели предметной области применяется только для поддоменов со сложной бизнес-логикой, можно с уверенностью предположить, что местом его применения являются основной поддомен (core subdomain) — сердце программной системы.