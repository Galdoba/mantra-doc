{
	"nodes":[
		{"id":"9a00b4ea61d2fc3b","type":"text","text":"```mermaid\nflowchart TD\n    %% Инициализация проекта\n    A[Пользователь создает проект] --> B[ProjectService<br/>Создает Project]\n    B --> C{Статус: PROJECT_CREATED<br/>Объекты: Project}\n    \n    %% Загрузка файлов\n    C --> D[Пользователь загружает файлы]\n    D --> E[FileUploadService + MediaValidator<br/>Сохраняет SourceFile]\n    E --> F{Статус: SOURCE_FILE_READY<br/>Объекты: SourceFile, File, MediaFile}\n    \n    %% Определение требований\n    F --> G[TaskDefinitionService<br/>Создает Task/Intent]\n    G --> H{Статус: TASK_DEFINED<br/>Объекты: Task/Intent, TranscodingProfile}\n    \n    %% Создание задач\n    H --> I[JobOrchestrationService<br/>Создает TranscodingJob]\n    I --> J{Статус: JOBS_CREATED<br/>Объекты: TranscodingJob, SourceFile, TranscodingProfile}\n    \n    %% Генерация скриптов\n    J --> K[ScriptGenerator<br/>Генерирует bash-скрипты]\n    K --> L{Статус: SCRIPTS_GENERATED<br/>Объекты: TranscodingJob, ScriptArtifact}\n    \n    %% Удаленное выполнение\n    L --> M[RemoteExecutionDispatcher<br/>Передает скрипты]\n    M --> N{Статус: EXECUTION_STARTED<br/>Объекты: TranscodingJob, RemoteExecutionEnvironment}\n    \n    %% Мониторинг выполнения\n    N --> O[ProgressMonitoringService + ReportParser<br/>Мониторит прогресс]\n    O --> P{Статус: PROGRESS_UPDATED<br/>Объекты: TranscodingJob, ProgressReport}\n    \n    %% Проверка завершения\n    P --> Q{Все задачи завершены?<br/>Объекты: TranscodingJob}\n    Q -->|Нет| O\n    Q -->|Да| R[JobCompletionHandler<br/>Создает ProductFile]\n    R --> S{Статус: JOB_FINISHED<br/>Объекты: TranscodingJob, ProductFile, File, MediaFile}\n    \n    %% Валидация результатов\n    S --> T[QualityAssuranceService<br/>Проверяет продукты]\n    T --> U{Статус: PRODUCTS_VALIDATED<br/>Объекты: ProductFile, Task/Intent}\n    \n    %% Завершение проекта\n    U --> V[ProjectCompletionService<br/>Завершает проект]\n    V --> W{Статус: PROJECT_COMPLETED<br/>Объекты: Project, ProductFile, SourceFile}\n    \n    %% Уведомления\n    W --> X[NotificationService<br/>Отправляет уведомления]\n    X --> Y{Статус: NOTIFICATIONS_SENT<br/>Объекты: Project, User}\n    Y --> Z[Проект успешно завершен<br/>Объекты: Project]\n    \n    %% Альтернативные сценарии\n    O -->|Обнаружена ошибка| ERR1[ErrorHandlingService<br/>Обрабатывает ошибку<br/>Объекты: TranscodingJob, ErrorReport]\n    ERR1 --> ERR2{Статус: JOB_FAILED<br/>Объекты: TranscodingJob}\n    ERR2 --> ERR3{Повторить задачу?<br/>Объекты: TranscodingJob}\n    ERR3 -->|Да| K\n    ERR3 -->|Нет| ERR4[Проект переходит в ошибку<br/>Объекты: Project, TranscodingJob]\n    \n    D -->|Пользователь отменяет| CAN1[ProjectCancellationService<br/>Отменяет проект<br/>Объекты: Project, TranscodingJob]\n    E -->|Пользователь отменяет| CAN1\n    G -->|Пользователь отменяет| CAN1\n    I -->|Пользователь отменяет| CAN1\n    K -->|Пользователь отменяет| CAN1\n    M -->|Пользователь отменяет| CAN1\n    O -->|Пользователь отменяет| CAN1\n    \n    CAN1 --> CAN2{Статус: PROJECT_CANCELLED<br/>Объекты: Project}\n    CAN2 --> CAN3[Cleanup ресурсов<br/>Объекты: Project, SourceFile, ProductFile, TranscodingJob]\n    CAN3 --> CAN4{Статус: PROJECT_TERMINATED<br/>Объекты: Project}\n    \n    %% Стили\n    classDef success fill:#d4edda,stroke:#c3e6cb,stroke-width:2px\n    classDef process fill:#cce5ff,stroke:#b8daff,stroke-width:2px\n    classDef decision fill:#fff3cd,stroke:#ffeaa7,stroke-width:2px\n    classDef error fill:#f8d7da,stroke:#f5c6cb,stroke-width:2px\n    classDef cancel fill:#e2e3e5,stroke:#d6d8db,stroke-width:2px\n    \n    class B,E,G,I,K,M,O,R,T,V,X process\n    class C,F,H,J,L,N,P,S,U,W,Y,Q,ERR2,ERR3,CAN2,CAN4 decision\n    class Z success\n    class ERR1,ERR4 error\n    class CAN1,CAN3 cancel\n```\n","x":-2208,"y":-3880,"width":1848,"height":6600},
		{"id":"4ac5696a1269570d","x":-1160,"y":-4420,"width":400,"height":400,"type":"file","file":"План работы проекта.md"}
	],
	"edges":[
		{"id":"80514ce0b539002a","fromNode":"4ac5696a1269570d","fromSide":"bottom","toNode":"9a00b4ea61d2fc3b","toSide":"top"}
	]
}